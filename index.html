<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自分らしさ診断 - 本当の自分を見つけよう</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            background: rgba(255, 255, 255, 0.95);
            color: #333;
            padding: 40px 20px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 10px;
        }

        .intro {
            background: rgba(255, 255, 255, 0.95);
            padding: 35px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .intro h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .intro .highlight {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
        }

        .question-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            display: none;
            backdrop-filter: blur(10px);
        }

        .question-section.active {
            display: block;
        }

        .question-number {
            font-size: 0.9em;
            color: #667eea;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .question-title {
            font-size: 1.4em;
            color: #333;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .question-text {
            font-size: 1.1em;
            margin-bottom: 25px;
            color: #555;
            background: #f8f9ff;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .options {
            list-style: none;
        }

        .option {
            margin-bottom: 15px;
        }

        .option label {
            display: flex;
            align-items: center;
            padding: 18px;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .option label:hover {
            border-color: #667eea;
            background: linear-gradient(135deg, #f8f9ff, #fff);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.15);
        }

        .option input[type="radio"] {
            margin-right: 15px;
            transform: scale(1.3);
            accent-color: #667eea;
        }

        .option input[type="radio"]:checked + span {
            color: #667eea;
            font-weight: bold;
        }

        .option label:has(input:checked) {
            border-color: #667eea;
            background: linear-gradient(135deg, #f8f9ff, #fff);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
        }

        .navigation {
            text-align: center;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 35px;
            margin: 0 10px;
            border: none;
            border-radius: 30px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .btn:disabled {
            background: #e9ecef;
            color: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 5px;
            transition: width 0.4s ease;
        }

        .result-section {
            background: rgba(255, 255, 255, 0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
            text-align: center;
            display: none;
            backdrop-filter: blur(10px);
        }

        .result-icon {
            font-size: 5em;
            margin-bottom: 20px;
        }

        .result-title {
            font-size: 2.2em;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .result-subtitle {
            font-size: 1.3em;
            color: #666;
            margin-bottom: 30px;
            padding: 15px;
            background: #f8f9ff;
            border-radius: 10px;
        }

        .result-description {
            text-align: left;
            margin-bottom: 30px;
        }

        .result-description h3 {
            color: #667eea;
            margin-bottom: 12px;
            margin-top: 25px;
            font-size: 1.2em;
        }

        .result-description ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }

        .result-description li {
            margin-bottom: 8px;
            color: #555;
        }

        .share-section {
            margin-top: 35px;
            padding-top: 30px;
            border-top: 2px solid #f0f0f0;
        }

        .basic-info {
            background: linear-gradient(135deg, #f8f9ff, #fff);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 2px solid #e9ecef;
        }

        .basic-info input, .basic-info select {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }

        .basic-info input:focus, .basic-info select:focus {
            border-color: #667eea;
            outline: none;
        }

        .basic-info label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #667eea;
        }

        .worried-students {
            background: linear-gradient(135deg, #ffeaa7, #fab1a0);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 25px;
            color: #2d3436;
        }

        .worried-students h3 {
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .worried-students ul {
            list-style: none;
            padding-left: 0;
        }

        .worried-students li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }

        .worried-students li::before {
            content: "💭";
            position: absolute;
            left: 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .question-section, .intro, .result-section {
                padding: 25px;
            }

            .btn {
                padding: 12px 25px;
                margin: 5px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ヘッダー -->
        <div class="header">
            <h1>✨ 自分らしさ診断</h1>
            <p>本当の自分を見つけよう</p>
            <p style="font-size: 1em; color: #888;">〜 あなたらしい生き方のヒントがここに 〜</p>
        </div>

        <!-- イントロダクション -->
        <div class="intro" id="intro">
            <h2>あなたも悩んでいませんか？</h2>
            
            <div class="worried-students">
                <h3>多くの学生が感じている悩み</h3>
                <ul>
                    <li>「自分らしさって何？」</li>
                    <li>「みんなと同じじゃダメなの？」</li>
                    <li>「本当にやりたいことが分からない」</li>
                    <li>「人と比べて落ち込んでしまう」</li>
                    <li>「将来が不安で仕方ない」</li>
                </ul>
            </div>

            <div class="highlight">
                <strong>この診断では、あなたの「らしさ」のタイプを見つけます。</strong><br>
                正解はありません。あなたにとって自然で、心地よい生き方のヒントを発見しましょう。
            </div>

            <p>この診断は「こうあるべき」を教えるものではありません。<br>
            あなたが大切にしている価値観と、自然な行動パターンを知ることで、<strong>「自分らしい生き方」</strong>のヒントを見つけるためのツールです。</p>
            <br>
            <p><strong>所要時間：</strong>約3分</p>

            <!-- 基本情報 -->
            <div class="basic-info">
                <h3>■ 基本情報（任意）</h3>
                <label for="userName">お名前（ニックネーム可）</label>
                <input type="text" id="userName" placeholder="例：さくら">
                
                <label for="userGrade">学年</label>
                <select id="userGrade">
                    <option value="">選択してください</option>
                    <option value="高校1年">高校1年</option>
                    <option value="高校2年">高校2年</option>
                    <option value="高校3年">高校3年</option>
                    <option value="大学1年">大学1年</option>
                    <option value="大学2年">大学2年</option>
                    <option value="大学3年">大学3年</option>
                    <option value="大学4年">大学4年</option>
                    <option value="専門学校生">専門学校生</option>
                    <option value="その他">その他</option>
                </select>
                
                <label for="userWorry">今一番悩んでいることは？</label>
                <select id="userWorry">
                    <option value="">選択してください</option>
                    <option value="進路選択">進路選択</option>
                    <option value="人間関係">人間関係</option>
                    <option value="勉強・成績">勉強・成績</option>
                    <option value="将来への不安">将来への不安</option>
                    <option value="自分の性格">自分の性格</option>
                    <option value="その他">その他</option>
                </select>
            </div>

            <div class="navigation">
                <button class="btn btn-primary" onclick="startDiagnosis()">診断をスタート！</button>
            </div>
        </div>

        <!-- 進捗バー -->
        <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- 質問セクション -->
        <div class="question-section active" id="questionContainer">
            <!-- JavaScriptで動的に生成 -->
        </div>

        <!-- 結果セクション -->
        <div class="result-section" id="resultSection">
            <!-- JavaScriptで動的に生成 -->
        </div>
    </div>

    <script>
        // 質問データ
        const questions = [
            {
                id: 1,
                title: "友達との時間について",
                text: "友達との時間で一番大切にしているのは？",
                options: [
                    { value: "A", text: "みんなでワイワイ盛り上がること" },
                    { value: "B", text: "お互いの情報交換や学び合い" },
                    { value: "C", text: "一人ひとりとじっくり話すこと" },
                    { value: "D", text: "長く続く安心できる関係" }
                ]
            },
            {
                id: 2,
                title: "勉強やバイトでの成果について",
                text: "授業やバイトで成果を実感するのは？",
                options: [
                    { value: "A", text: "先生や周りから褒められた時" },
                    { value: "B", text: "要領よく高い成績・評価を得た時" },
                    { value: "C", text: "誰かの役に立てたと感じた時" },
                    { value: "D", text: "継続して成長を感じられた時" }
                ]
            },
            {
                id: 3,
                title: "将来の収入について",
                text: "将来の収入について、どう考える？",
                options: [
                    { value: "A", text: "高収入で注目される仕事に就きたい" },
                    { value: "B", text: "スキルに見合った適正な評価・収入を得たい" },
                    { value: "C", text: "収入より仕事のやりがいを重視したい" },
                    { value: "D", text: "安定した収入で着実に生活したい" }
                ]
            },
            {
                id: 4,
                title: "人とのつながりについて",
                text: "人とのつながりで最も大切にしているのは？",
                options: [
                    { value: "A", text: "多くの人との幅広いネットワーク" },
                    { value: "B", text: "同じ目標を持つ仲間との関係" },
                    { value: "C", text: "心から信頼できる深い友情" },
                    { value: "D", text: "家族や地域の人との安定した関係" }
                ]
            },
            {
                id: 5,
                title: "SNSの使い方について",
                text: "SNSで発信する内容で最も多いのは？",
                options: [
                    { value: "A", text: "自分の活動や成果の報告" },
                    { value: "B", text: "有益な情報やトレンドのシェア" },
                    { value: "C", text: "友達への応援メッセージや日常" },
                    { value: "D", text: "あまり発信せず、見る専門" }
                ]
            },
            {
                id: 6,
                title: "失敗した時の対処法",
                text: "何かに失敗した時の行動で最も近いのは？",
                options: [
                    { value: "A", text: "周りの反応が気になって落ち込む" },
                    { value: "B", text: "すぐに原因を分析して改善策を考える" },
                    { value: "C", text: "信頼できる人に相談して支えてもらう" },
                    { value: "D", text: "時間をかけてゆっくり立ち直る" }
                ]
            },
            {
                id: 7,
                title: "新しいことを学ぶ方法",
                text: "新しいことを学ぶ時の方法は？",
                options: [
                    { value: "A", text: "みんなで一緒に勉強会をする" },
                    { value: "B", text: "アプリや動画で効率よく情報収集する" },
                    { value: "C", text: "先輩や友達から直接教えてもらう" },
                    { value: "D", text: "本を読んでじっくり理解する" }
                ]
            },
            {
                id: 8,
                title: "1年後の目標について",
                text: "1年後の目標で最も重要なのは？",
                options: [
                    { value: "A", text: "周りから認められるような実績を作る" },
                    { value: "B", text: "成績や資格など具体的な成果を出す" },
                    { value: "C", text: "人とのつながりを深めて成長する" },
                    { value: "D", text: "着実に基礎力を身につける" }
                ]
            },
            {
                id: 9,
                title: "サークル・部活動について",
                text: "サークルや部活動への参加姿勢は？",
                options: [
                    { value: "A", text: "積極的に参加して中心的な役割を担いたい" },
                    { value: "B", text: "自分のスキルアップにつながる活動を選ぶ" },
                    { value: "C", text: "仲間との絆を深めることを大切にする" },
                    { value: "D", text: "無理のない範囲でコツコツ続ける" }
                ]
            },
            {
                id: 10,
                title: "お金の使い方について",
                text: "お小遣いやバイト代の使い方は？",
                options: [
                    { value: "A", text: "ファッションや趣味で自分らしさを表現" },
                    { value: "B", text: "スキルアップや将来への投資" },
                    { value: "C", text: "友達や家族のために使うことが多い" },
                    { value: "D", text: "将来のためにコツコツ貯金" }
                ]
            },
            {
                id: 11,
                title: "理想の休日の過ごし方",
                text: "理想的な休日の過ごし方は？",
                options: [
                    { value: "A", text: "イベントに参加したり、アクティブに活動" },
                    { value: "B", text: "新しい情報収集や効率的にタスクをこなす" },
                    { value: "C", text: "大切な人とゆっくり過ごす" },
                    { value: "D", text: "家でのんびりと自分の時間を楽しむ" }
                ]
            },
            {
                id: 12,
                title: "ライバルとの関係",
                text: "同級生や友達との競争について、どう思う？",
                options: [
                    { value: "A", text: "負けたくない気持ちが強く、頑張る原動力になる" },
                    { value: "B", text: "お互いに情報交換して切磋琢磨したい" },
                    { value: "C", text: "競争より協力して一緒に成長したい" },
                    { value: "D", text: "自分のペースを大切にしてマイペースでいたい" }
                ]
            },
            {
                id: 13,
                title: "就職・進路選択について",
                text: "就職・進路選択で最も重視することは？",
                options: [
                    { value: "A", text: "有名企業や注目される仕事" },
                    { value: "B", text: "自分のスキルを活かせる環境や将来性" },
                    { value: "C", text: "やりがいや人とのつながり" },
                    { value: "D", text: "安定性や長く続けられること" }
                ]
            },
            {
                id: 14,
                title: "理想的な環境について",
                text: "勉強や活動をする理想的な環境は？",
                options: [
                    { value: "A", text: "活気があって刺激的な環境" },
                    { value: "B", text: "最新の設備や情報が揃った効率的な環境" },
                    { value: "C", text: "仲間と支え合える温かい環境" },
                    { value: "D", text: "落ち着いて集中できる静かな環境" }
                ]
            },
            {
                id: 15,
                title: "達成感を感じる瞬間",
                text: "達成感を一番感じるのはどんな時？",
                options: [
                    { value: "A", text: "みんなから注目されたり褒められた時" },
                    { value: "B", text: "効率よく結果を出せた時" },
                    { value: "C", text: "誰かに喜んでもらえた時" },
                    { value: "D", text: "長期間努力した成果が出た時" }
                ]
            },
            {
                id: 16,
                title: "困難への向き合い方",
                text: "大きな困難に直面した時の考え方は？",
                options: [
                    { value: "A", text: "みんなに見てもらって応援してもらいたい" },
                    { value: "B", text: "効率的な解決方法を探して乗り越えたい" },
                    { value: "C", text: "信頼できる人と一緒に乗り越えたい" },
                    { value: "D", text: "焦らず自分のペースで着実に対処したい" }
                ]
            },
            {
                id: 17,
                title: "チームでの役割について",
                text: "グループワークでの理想的な自分の役割は？",
                options: [
                    { value: "A", text: "みんなを引っ張るリーダー" },
                    { value: "B", text: "情報収集や効率化を担当する参謀役" },
                    { value: "C", text: "メンバーをサポートする調整役" },
                    { value: "D", text: "着実に作業を進める実務担当" }
                ]
            },
            {
                id: 18,
                title: "働く場所について",
                text: "働く場所について、どう考える？",
                options: [
                    { value: "A", text: "多くの人に影響を与えられる場所で働きたい" },
                    { value: "B", text: "自分のスキルを活かせる環境がある場所" },
                    { value: "C", text: "人とのつながりを大切にできる場所" },
                    { value: "D", text: "慣れ親しんだ安心できる環境" }
                ]
            },
            {
                id: 19,
                title: "10年後の理想の姿",
                text: "10年後、どんな自分でありたい？",
                options: [
                    { value: "A", text: "多くの人に影響を与える存在" },
                    { value: "B", text: "専門分野で活躍するプロフェッショナル" },
                    { value: "C", text: "周りの人から信頼される温かい人" },
                    { value: "D", text: "安定した生活を築いている堅実な人" }
                ]
            },
            {
                id: 20,
                title: "一番大切にしたい価値観",
                text: "人生で最も大切にしたい価値観は？",
                options: [
                    { value: "A", text: "注目や評価を得ること" },
                    { value: "B", text: "効率性と成長" },
                    { value: "C", text: "人との絆とやりがい" },
                    { value: "D", text: "安定と継続" }
                ]
            }
        ];

        // 結果タイプ定義
        const resultTypes = {
            "A": {
                icon: "★",
                title: "表現・注目重視タイプ",
                subtitle: "あなたらしさ：「自分を表現して認められること」",
                description: `
                    <h3>✨ あなたの特徴</h3>
                    <ul>
                        <li>人から注目されることでエネルギーを得る</li>
                        <li>自分らしさを積極的に表現したい</li>
                        <li>リーダーシップを発揮するのが得意</li>
                        <li>新しいことにチャレンジするのが好き</li>
                        <li>周りの人を巻き込む力がある</li>
                    </ul>
                    
                    <h3>💪 あなたの強み</h3>
                    <ul>
                        <li>発信力と影響力がある</li>
                        <li>積極性と行動力がある</li>
                        <li>人を惹きつける魅力がある</li>
                        <li>チームを盛り上げるのが上手</li>
                        <li>新しい機会を見つけるのが得意</li>
                    </ul>
                    
                    <h3>⚠️ 気をつけたいポイント</h3>
                    <ul>
                        <li>他人の評価を気にしすぎることがある</li>
                        <li>注目されないと不安になりがち</li>
                        <li>短期的な結果を求めすぎる場合も</li>
                        <li>一人の時間も大切にしよう</li>
                    </ul>
                    
                    <h3>🎯 おすすめの行動</h3>
                    <ul>
                        <li>自分の内面とも向き合う時間を作る</li>
                        <li>長期的な目標も大切にする</li>
                        <li>周りの人への感謝を忘れずに</li>
                        <li>失敗も成長の一部だと受け入れる</li>
                    </ul>

                    <h3>🌱 向いている進路</h3>
                    <ul>
                        <li>営業・マーケティング</li>
                        <li>メディア・エンターテイメント</li>
                        <li>教育・講師業</li>
                        <li>イベント企画・プロデュース</li>
                    </ul>
                `
            },
            "B": {
                icon: "⚡",
                title: "効率・成長重視タイプ",
                subtitle: "あなたらしさ：「スマートに成果を出すこと」",
                description: `
                    <h3>✨ あなたの特徴</h3>
                    <ul>
                        <li>効率的に物事を進めるのが得意</li>
                        <li>情報収集と分析が好き</li>
                        <li>新しいスキルを身につけるのが早い</li>
                        <li>目標達成に向けて計画的に行動する</li>
                        <li>合理的で論理的な思考が得意</li>
                    </ul>
                    
                    <h3>💪 あなたの強み</h3>
                    <ul>
                        <li>高い学習能力と適応力</li>
                        <li>時間管理が上手</li>
                        <li>データや情報を活用できる</li>
                        <li>問題解決能力が高い</li>
                        <li>変化に対応するのが得意</li>
                    </ul>
                    
                    <h3>⚠️ 気をつけたいポイント</h3>
                    <ul>
                        <li>効率ばかり追求して人間関係が希薄になりがち</li>
                        <li>完璧主義になりすぎることがある</li>
                        <li>感情面を軽視してしまう場合も</li>
                        <li>時にはゆっくり休むことも大切</li>
                    </ul>
                    
                    <h3>🎯 おすすめの行動</h3>
                    <ul>
                        <li>人とのコミュニケーションも大切にする</li>
                        <li>完璧でなくてもまずは行動してみる</li>
                        <li>感情や直感も大切にする</li>
                        <li>長期的な関係構築も意識する</li>
                    </ul>

                    <h3>🌱 向いている進路</h3>
                    <ul>
                        <li>IT・プログラマー</li>
                        <li>データアナリスト</li>
                        <li>コンサルタント</li>
                        <li>研究職・エンジニア</li>
                    </ul>
                `
            },
            "C": {
                icon: "♦",
                title: "関係・貢献重視タイプ",
                subtitle: "あなたらしさ：「人とのつながりを大切にすること」",
                description: `
                    <h3>✨ あなたの特徴</h3>
                    <ul>
                        <li>人との深いつながりを何より大切にする</li>
                        <li>相手の気持ちを理解するのが得意</li>
                        <li>誰かの役に立つことに喜びを感じる</li>
                        <li>チームワークを大切にする</li>
                        <li>信頼関係を築くのが上手</li>
                    </ul>
                    
                    <h3>💪 あなたの強み</h3>
                    <ul>
                        <li>高い共感力とコミュニケーション能力</li>
                        <li>チームをまとめる調整力</li>
                        <li>相手の立場に立って考えられる</li>
                        <li>長期的な信頼関係を築ける</li>
                        <li>周りの人を支える力がある</li>
                    </ul>
                    
                    <h3>⚠️ 気をつけたいポイント</h3>
                    <ul>
                        <li>自分のことを後回しにしがち</li>
                        <li>「NO」と言うのが苦手な場合がある</li>
                        <li>他人に依存されすぎることも</li>
                        <li>自分の意見を主張することも大切</li>
                    </ul>
                    
                    <h3>🎯 おすすめの行動</h3>
                    <ul>
                        <li>自分の時間も大切にする</li>
                        <li>時には自分の意見をはっきり伝える</li>
                        <li>自分の成長も忘れずに</li>
                        <li>適度な距離感を保つことを学ぶ</li>
                    </ul>

                    <h3>🌱 向いている進路</h3>
                    <ul>
                        <li>教育・保育関係</li>
                        <li>医療・福祉・介護</li>
                        <li>カウンセラー・心理職</li>
                        <li>人事・総務</li>
                    </ul>
                `
            },
            "D": {
                icon: "▲",
                title: "安定・継続重視タイプ",
                subtitle: "あなたらしさ：「着実に成長し続けること」",
                description: `
                    <h3>✨ あなたの特徴</h3>
                    <ul>
                        <li>物事をコツコツと継続するのが得意</li>
                        <li>安定した環境で力を発揮する</li>
                        <li>長期的な視点で物事を考える</li>
                        <li>責任感が強く信頼される</li>
                        <li>マイペースで着実に成長する</li>
                    </ul>
                    
                    <h3>💪 あなたの強み</h3>
                    <ul>
                        <li>高い継続力と忍耐力</li>
                        <li>責任感と信頼性がある</li>
                        <li>安定した成果を出し続けられる</li>
                        <li>長期的な関係を大切にできる</li>
                        <li>基礎をしっかり固められる</li>
                    </ul>
                    
                    <h3>⚠️ 気をつけたいポイント</h3>
                    <ul>
                        <li>変化を避けがちになることがある</li>
                        <li>新しいチャレンジに消極的になりがち</li>
                        <li>自分を過小評価することも</li>
                        <li>時には積極性も大切</li>
                    </ul>
                    
                    <h3>🎯 おすすめの行動</h3>
                    <ul>
                        <li>小さな変化から始めてみる</li>
                        <li>自分の成長を認めて自信を持つ</li>
                        <li>新しい環境にも挑戦してみる</li>
                        <li>自分の強みを周りにアピールする</li>
                    </ul>

                    <h3>🌱 向いている進路</h3>
                    <ul>
                        <li>公務員・団体職員</li>
                        <li>金融・経理・事務</li>
                        <li>技術職・専門職</li>
                        <li>研究職・学術関係</li>
                    </ul>
                `
            }
        };

        // 変数
        let currentQuestion = 0;
        let answers = {};
        let userInfo = {};

        // 診断開始
        function startDiagnosis() {
            // 基本情報を保存
            userInfo = {
                name: document.getElementById('userName').value || '匿名',
                grade: document.getElementById('userGrade').value,
                worry: document.getElementById('userWorry').value
            };

            // UIを切り替え
            document.getElementById('intro').style.display = 'none';
            document.getElementById('progressBar').style.display = 'block';
            
            // 最初の質問を表示
            showQuestion(0);
        }

        // 質問表示
        function showQuestion(index) {
            currentQuestion = index;
            const question = questions[index];
            
            // 進捗更新
            updateProgress();
            
            const container = document.getElementById('questionContainer');
            container.innerHTML = `
                <div class="question-number">質問 ${index + 1} / ${questions.length}</div>
                <div class="question-title">${question.title}</div>
                <div class="question-text">${question.text}</div>
                <ul class="options">
                    ${question.options.map(option => `
                        <li class="option">
                            <label>
                                <input type="radio" name="q${question.id}" value="${option.value}" 
                                       ${answers[question.id] === option.value ? 'checked' : ''}>
                                <span>${option.text}</span>
                            </label>
                        </li>
                    `).join('')}
                </ul>
                <div class="navigation">
                    ${index > 0 ? `<button class="btn btn-secondary" onclick="prevQuestion()">前の質問</button>` : ''}
                    <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" 
                            ${!answers[question.id] ? 'disabled' : ''}>
                        ${index === questions.length - 1 ? '結果を見る' : '次の質問'}
                    </button>
                </div>
            `;
            
            // ラジオボタンのイベントリスナー
            container.addEventListener('change', function(e) {
                if (e.target.type === 'radio') {
                    answers[question.id] = e.target.value;
                    document.getElementById('nextBtn').disabled = false;
                }
            });
            
            container.style.display = 'block';
        }

        // 進捗更新
        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // 前の質問
        function prevQuestion() {
            if (currentQuestion > 0) {
                showQuestion(currentQuestion - 1);
            }
        }

        // 次の質問
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                showQuestion(currentQuestion + 1);
            } else {
                showResult();
            }
        }

        // 結果表示（修正版）
        function showResult() {
            // 集計
            const scores = { A: 0, B: 0, C: 0, D: 0 };
            
            // デバッグ用ログ
            console.log('全回答:', answers);
            
            // 回答を集計
            for (let i = 1; i <= questions.length; i++) {
                if (answers[i]) {
                    scores[answers[i]]++;
                }
            }
            
            console.log('集計結果:', scores);
            
            // 最多回答を取得
            const maxScore = Math.max(...Object.values(scores));
            const resultType = Object.keys(scores).find(key => scores[key] === maxScore);
            const result = resultTypes[resultType];
            
            // UI切り替え
            document.getElementById('questionContainer').style.display = 'none';
            document.getElementById('progressBar').style.display = 'none';
            
            const resultSection = document.getElementById('resultSection');
            resultSection.innerHTML = `
                <div class="result-icon">${result.icon}</div>
                <div class="result-title">${result.title}</div>
                <div class="result-subtitle">${result.subtitle}</div>
                <div class="result-description">${result.description}</div>
                
                <div class="share-section">
                    <h3>■ あなたの回答分布</h3>
                    <p>★ 表現・注目重視：${scores.A}個</p>
                    <p>⚡ 効率・成長重視：${scores.B}個</p>
                    <p>♦ 関係・貢献重視：${scores.C}個</p>
                    <p>▲ 安定・継続重視：${scores.D}個</p>
                    
                    <div style="margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #f8f9ff, #fff); border-radius: 15px; border: 2px solid #667eea;">
                        <h3 style="color: #667eea; margin-bottom: 15px;">✨ 診断を終えて</h3>
                        <p><strong>大切なのは「どのタイプが正解」ということではありません。</strong></p>
                        <p>あなたらしい生き方は、あなただけのもの。この結果をヒントに、自分が心地よく、自然でいられる道を見つけてくださいね。</p>
                        <p>迷うことがあっても大丈夫。少しずつ、自分らしい人生を歩んでいきましょう。</p>
                    </div>
                    
                    <div style="margin-top: 25px; padding: 20px; background-color: #f0f0f0; border-radius: 10px; text-align: left;">
                        <p><strong>■ より深く自分らしさについて学びたい方へ</strong></p>
                        <p>角田千鶴のnote「自分らしさ、迷子中。」</p>
                        <p>～学生時代の不安な今を抜け出して、自分らしいミライへ～（全4回・全て無料記事）</p>
                        <p>🌸 第1回：みんなと違うのが怖いあなたへ</p>
                        <p>🌸 第2回：あなたの「当たり前」が、実は強みかもしれない</p>
                        <p>🌸 第3回：就活で「いい子」になろうとしてない？</p>
                        <p>🌸 第4回：迷いながらも成長していく人の共通点</p>
                        <p><a href="https://note.com/sanyou34/n/n09a542d8c033" target="_blank" style="color: #667eea; text-decoration: underline;">→ noteで読む</a></p>
                        <p>🏢 一般社団法人ミライゴト</p>
                        <p>■ お問い合わせ：miraigoto34@gmail.com</p>
                    </div>
                    
                    <button class="btn btn-primary" onclick="restartDiagnosis()" style="margin-top: 25px;">
                        もう一度診断する
                    </button>
                </div>
            `;
            
            resultSection.style.display = 'block';
        }

        // 診断やり直し
        function restartDiagnosis() {
            currentQuestion = 0;
            answers = {};
            userInfo = {};
            
            document.getElementById('resultSection').style.display = 'none';
            document.getElementById('intro').style.display = 'block';
            document.getElementById('progressBar').style.display = 'none';
            
            // フォームをリセット
            document.getElementById('userName').value = '';
            document.getElementById('userGrade').value = '';
            document.getElementById('userWorry').value = '';
        }
    </script>
</body>
</html>
